<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>What Makes the Internet Computer Unique? - ICPSquad</title><meta name="description" content="The Internet Computer is unlike any other blockchain, and that's why IC enthusiasts refer to it as a world computer. But in what way does it challenge other blockchains as well as powerful web2 tech companies? In short, what makes the Internet Computer unique? The&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://icp-squad.com/what-makes-the-internet-computer-unique/"><link rel="alternate" type="application/atom+xml" href="https://icp-squad.com/feed.xml"><link rel="alternate" type="application/json" href="https://icp-squad.com/feed.json"><meta property="og:title" content="What Makes the Internet Computer Unique?"><meta property="og:image" content="https://icp-squad.com/media/posts/6/unique-icp.jpg"><meta property="og:image:width" content="2000"><meta property="og:image:height" content="1125"><meta property="og:site_name" content="ICPSquad"><meta property="og:description" content="The Internet Computer is unlike any other blockchain, and that's why IC enthusiasts refer to it as a world computer. But in what way does it challenge other blockchains as well as powerful web2 tech companies? In short, what makes the Internet Computer unique? The&hellip;"><meta property="og:url" content="https://icp-squad.com//what-makes-the-internet-computer-unique/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@icpsquad"><meta name="twitter:title" content="What Makes the Internet Computer Unique?"><meta name="twitter:description" content="The Internet Computer is unlike any other blockchain, and that's why IC enthusiasts refer to it as a world computer. But in what way does it challenge other blockchains as well as powerful web2 tech companies? In short, what makes the Internet Computer unique? The&hellip;"><meta name="twitter:image" content="https://icp-squad.com/media/posts/6/unique-icp.jpg"><link rel="shortcut icon" href="https://icp-squad.com/media/website/xHk2e9WC_400x400-2.jpg" type="image/png"><link rel="stylesheet" href="https://icp-squad.com/assets/css/style.css?v=a63ab5368a02ddb11f22ee4276c40b2e"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://icp-squad.com/what-makes-the-internet-computer-unique/"},"headline":"What Makes the Internet Computer Unique?","datePublished":"2024-10-05T17:37+02:00","dateModified":"2024-11-19T17:43+01:00","image":{"@type":"ImageObject","url":"https://icp-squad.com/media/posts/6/unique-icp.jpg","height":1125,"width":2000},"description":"The Internet Computer is unlike any other blockchain, and that's why IC enthusiasts refer to it as a world computer. But in what way does it challenge other blockchains as well as powerful web2 tech companies? In short, what makes the Internet Computer unique? The&hellip;","author":{"@type":"Person","name":"ICPSquad Team","url":"https://icp-squad.com/authors/icpsquad-team/"},"publisher":{"@type":"Organization","name":"ICPSquad Team"}}</script><style>.u-tag--icp{--badge-bg:#84888E;--badge-txt:#FFFFFF;}</style><noscript><style>img[loading]{opacity:1;}</style></noscript></head><body class="post-template"><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://icp-squad.com/">ICPSquad</a></div></header><div class="main-content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2024-11-19T17:45">November 19, 2024</time></div><div class="infobar__search"></div></div><main class="main post"><article class="content"><figure class="content__featured-image"><img src="https://icp-squad.com/media/posts/6/unique-icp.jpg" srcset="https://icp-squad.com/media/posts/6/responsive/unique-icp-xs.jpg 300w, https://icp-squad.com/media/posts/6/responsive/unique-icp-sm.jpg 480w, https://icp-squad.com/media/posts/6/responsive/unique-icp-md.jpg 768w, https://icp-squad.com/media/posts/6/responsive/unique-icp-lg.jpg 1024w, https://icp-squad.com/media/posts/6/responsive/unique-icp-xl.jpg 1360w, https://icp-squad.com/media/posts/6/responsive/unique-icp-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1125" width="2000" alt=""></figure><header class="u-header content__header"><h1>What Makes the Internet Computer Unique?</h1><div class="u-header__meta u-small"><img src="https://icp-squad.com/media/website/xHk2e9WC_400x400.jpg" loading="eager" class="u-header__avatar" alt="ICPSquad Team" height="400" width="400"><div><a href="https://icp-squad.com/authors/icpsquad-team/" title="ICPSquad Team">ICPSquad Team</a> <time datetime="2024-10-05T17:37">October 5, 2024 </time><a href="https://icp-squad.com/tags/icp/" class="u-tag u-tag--icp">icp</a></div></div></header><div class="content__entry u-inner"><p class="context-excerpt text-lg">The Internet Computer is unlike any other blockchain, and that's why IC enthusiasts refer to it as a world computer. But in what way does it challenge other blockchains as well as powerful web2 tech companies? In short, what makes the Internet Computer unique?</p><p>The Internet Computer is unlike any other blockchain, and that's why IC enthusiasts refer to it as a world computer. But in what way does it challenge other blockchains as well as powerful web2 tech companies? In short, what makes the Internet Computer unique?</p><p>Let’s take a look at how the Internet Computer Protocol blockchain really shows off the power of web3!</p><h2 id="1-transactions-that-take-place-at-web-speed">#1 Transactions that Take Place at Web Speed</h2><p>One of the things that have hindered web3 adoption is that blockchain transactions are usually much slower than interactions with traditional web2 applications. But the Internet Computer has changed all of that. With finality occurring in under two seconds, dApps on the Internet Computer can query and update at web speed. In other words, transactions take place at the speeds we have all grown accustomed to when using web2 applications.</p><figure class="kg-card kg-image-card kg-card-hascaption"><a data-no-swup="" data-fslightbox="" href="https://www.coinhustle.com/content/images/2023/06/image-59.png" aria-label="Click for Lightbox"><figure class="lazyload lazy loaded"><img src="https://www.coinhustle.com/content/images/2023/06/image-59.png" sizes="(min-width: 720px) 720px" srcset="https://www.coinhustle.com/content/images/size/w600/2023/06/image-59.png 600w, https://www.coinhustle.com/content/images/2023/06/image-59.png 1000w" alt="" width="1000" height="566" loading="lazy" data-was-processed="true" data-is-external-image="true"></figure></a><figcaption>A comparison of Internet Computer transaction speeds versus several other top blockchains (via internetcomputer.org)</figcaption></figure><p>How is this possible? Despite the jokes many of us in the community make, it’s not actually alien technology. It’s possible thanks to breakthrough tech called Chain Key Cryptography. Since the top cryptographers in the world work at the DFINITY Foundation, it’s better if I let them <a href="https://medium.com/dfinity/chain-key-technology-one-public-key-for-the-internet-computer-6a3644901e28?ref=coinhustle.com">explain Chain Key Cryptography on their blog</a>.</p><h2 id="2-the-reverse-gas-model">#2 The Reverse Gas Model</h2><p>One of the biggest complaints people have about the Ethereum blockchain (and many others) is fluctuating gas fees. Why should you have to wait to make a transaction so you can get a better deal on the fees? And can you imagine a social media app that runs on a blockchain with gas fees? There are numerous dapps on other blockchains that require you to connect a wallet and pay a fee every time you interact with them, even when creating a new account. This isn't the way to attract web2 users to adopt decentralized apps.</p><p>The Internet Computer solves the gas fee problem with <strong>reverse gas fees</strong>.</p><p>When developers set up a canister (IC smart contract), they pre-pay for the fees by loading what is called cycles. Basically, the cost of computation cycles is baked into the smart contract so that users can interact with the dApp using a normal browser without having to connect a wallet and pay fees. This allows Internet Computer dApps to be 100% hosted on-chain (no AWS or other centralized hosting services).</p><figure class="kg-card kg-image-card kg-card-hascaption"><a data-no-swup="" data-fslightbox="" href="https://www.coinhustle.com/content/images/2023/06/image-60.png" aria-label="Click for Lightbox"><figure class="lazyload lazy loaded"><img src="https://www.coinhustle.com/content/images/2023/06/image-60.png" sizes="(min-width: 720px) 720px" srcset="https://www.coinhustle.com/content/images/size/w600/2023/06/image-60.png 600w, https://www.coinhustle.com/content/images/size/w1000/2023/06/image-60.png 1000w, https://www.coinhustle.com/content/images/2023/06/image-60.png 1183w" alt="" width="1183" height="665" loading="lazy" data-was-processed="true" data-is-external-image="true"></figure></a><figcaption>Transaction fee costs comparison for major blockchains (via InfinitySwap)</figcaption></figure><p>Cycles are stable and do not fluctuate in cost with the price of ICP, so developers can be confident in knowing how much the fees will cost. The development team can reload more cycles later as they run low.</p><p><em>NOTE: There may be occasions where a user pays a small fee (0.0001 ICP) for transfers, such as when sending tokens between wallets or purchasing an NFT.</em></p><h2 id="3-a-green-blockchain">#3 A Green Blockchain</h2><p>The Internet Computer has managed to combine all of this speed and affordability while still using a <a href="https://www.coinhustle.com/crypto-in-the-age-of-climate-change/">minimal amount</a> of energy. One of the main concerns about blockchain use, in general, is energy consumption. Meanwhile, a transaction on the Internet Computer uses just 1/500 of the energy of a transaction on Ethereum!</p><figure class="kg-card kg-image-card kg-card-hascaption"><a data-no-swup="" data-fslightbox="" href="https://www.coinhustle.com/content/images/2023/06/image-61.png" aria-label="Click for Lightbox"><figure class="lazyload lazy loaded"><img src="https://www.coinhustle.com/content/images/2023/06/image-61.png" alt="" width="519" height="423" loading="lazy" data-was-processed="true" data-is-external-image="true"></figure></a><figcaption>A comparison of energy use of major blockchains (via internetcomputer.org)</figcaption></figure><p>Of course, you may say that using less energy than other blockchains is easy. But the Internet Computer is also ahead of web2 tech companies when it comes to energy consumption. For example, a single Google search consumes a comparable amount of energy to four Internet Computer transactions!</p><p>The Internet Computer is already lightyears ahead of the competition when it comes to being eco-friendly, in both web2 and web3, and that competitive edge is continually being honed to ensure a sustainable future for the blockchain.</p><h2 id="4-affordable-on-chain-storage">#4 Affordable On-Chain Storage</h2><p>If you've ever heard an interview with Dominic Williams (Founder and Chief Scientist at the DFINITY Foundation), you've probably heard him discuss the fact that ICP projects have the ability to be built on-chain. While projects on other blockchains may make this claim, the actual websites and dApps are usually hosted on AWS or other centralized cloud hosts. Why is this the case?</p><p>If you look at the chart below, it is simply a numbers game. How could any company afford to build on the Ethereum blockchain when storing just one GB of data on the blockchain would put most companies out of business? Even on comparatively more affordable chains like Cardano or Solana, this is still way too much overhead when compared to the affordability of centralized web hosting services. No web3 startup project could afford those prices.</p><p>The astounding affordability of on-chain storage for the Internet Computer (about $5/year for one GB of data) creates an environment where on-chain storage is finally possible! And affordable on-chain storage paves the way for other web3 values, such as decentralization and censorship resistance.</p><h2 id="5-the-sns-will-perpetuate-autonomous-dapps-and-web3-services">#5 The SNS Will Perpetuate Autonomous dApps and Web3 Services</h2><p>This is yet another essential element to building a web3 blockchain, and only the Internet Computer is already offering this type of solution. The SNS (Service Nervous System) allows crypto projects to launch a "decentralization sale" of network governance tokens. This allows a business to be run without a board of directors but rather with the network governance taking place 100% on-chain.</p><figure class="kg-card kg-image-card kg-card-hascaption"><a data-no-swup="" data-fslightbox="" href="https://www.coinhustle.com/content/images/2023/06/image-62.png" aria-label="Click for Lightbox"><figure class="lazyload lazy loaded"><img src="https://www.coinhustle.com/content/images/2023/06/image-62.png" sizes="(min-width: 720px) 720px" srcset="https://www.coinhustle.com/content/images/size/w600/2023/06/image-62.png 600w, https://www.coinhustle.com/content/images/2023/06/image-62.png 957w" alt="" width="957" height="272" loading="lazy" data-was-processed="true" data-is-external-image="true"></figure></a><figcaption>The progression of the internet has led us here (via internetcomputer.org)</figcaption></figure><h2 id="what-makes-the-internet-computer-blockchain-a-world-computer">What Makes the Internet Computer Blockchain a World Computer?</h2><p>The Internet Computer blockchain makes it affordable and feasible to host unstoppable, tamperproof code on-chain. This allows for a decentralized internet that runs everything from social networks to enterprise systems. So what makes the Internet Computer unique? It is a true world computer capable of hosting everything we interact with in a decentralized manner consistent with web3 values.</p></div><aside class="content__aside"><div class="content__share"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Ficp-squad.com%2Fwhat-makes-the-internet-computer-unique%2F&amp;via=%40icpsquad&amp;text=What%20Makes%20the%20Internet%20Computer%20Unique%3F" class="js-share twitter" title="Share with Twitter" rel="nofollow noopener noreferrer" aria-label="Share with Twitter"><svg class="u-icon"><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#twitter"/></svg></a></div></aside><footer class="content__footer"><div class="content__bio box"><img class="u-author__avatar" src="https://icp-squad.com/media/website/xHk2e9WC_400x400.jpg" loading="lazy" alt="ICPSquad Team" height="400" width="400"><div><h4 class="h6"><a href="https://icp-squad.com/authors/icpsquad-team/" title="ICPSquad Team">ICPSquad Team</a></h4><p>We are the team behind ICPSquad </p></div></div><div class="content__related box"><h3 class="box__title">Related posts</h3><div class="content__related-wrap"><figure class="content__related-item"><a href="https://icp-squad.com/defi-takes-hold-of-the-internet-computer-nft-market/" class="c-card__image"><img src="https://icp-squad.com/media/posts/7/responsive/AdobeStock_429591622-xs.jpeg" loading="lazy" height="1126" width="2000" alt=""></a><figcaption><h4 class="content__related-title"><a href="https://icp-squad.com/defi-takes-hold-of-the-internet-computer-nft-market/" class="inverse">DeFi Takes Hold of the Internet Computer NFT Market</a></h4><time datetime="2023-08-16T17:41" class="u-small">August 16, 2023</time></figcaption></figure><figure class="content__related-item"><a href="https://icp-squad.com/internet-computer-icp-vs-ethereum-eth-the-ultimate-comparison/" class="c-card__image"><img src="https://icp-squad.com/media/posts/4/responsive/ICP-vs-Ethereum-xs.jpg" loading="lazy" height="1125" width="2000" alt=""></a><figcaption><h4 class="content__related-title"><a href="https://icp-squad.com/internet-computer-icp-vs-ethereum-eth-the-ultimate-comparison/" class="inverse">Internet Computer (ICP) Vs Ethereum (ETH): The Ultimate Comparison</a></h4><time datetime="2024-11-02T17:32" class="u-small">November 2, 2024</time></figcaption></figure></div></div></footer></article><div class="comments-area box"></div></main><div class="sidebar"><section class="box"><h3 class="box__title">Follow us</h3><div class="follow"><a href="https://x.com/ICPSquad" class="twitter" aria-label="Twitter"><svg class="u-icon"><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="https://www.youtube.com/@icpsquad" class="youtube" aria-label="Youtube"><svg class="u-icon"><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#youtube"/></svg> Youtube</a></div></section><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://icp-squad.com/authors/icpsquad-team/" class="authors__image-link"><img src="https://icp-squad.com/media/website/xHk2e9WC_400x400.jpg" loading="lazy" alt="ICPSquad Team" height="400" width="400"></a><div><a href="https://icp-squad.com/authors/icpsquad-team/" class="authors__title">ICPSquad Team</a></div></li></ul></section><section class="newsletter box box--gray"><h3 class="box__title">Newsletter</h3><p class="newsletter__description">Sign up to receive email updates and to hear what's going on with us!</p><script type="text/javascript" src="https://webform.statslive.info/ow/eyJpdiI6Imp4OXJsNDQ5OFdVRmpOUDlcL0s5YitBcjk0YUQ2YXJua0NrZURwRHhTXC9oVT0iLCJtYWMiOiJmODY5OTcwMjg1ZjY1NWIxOTJlZmI2ZmNiODFhM2IzMmU4ZmY3NDI5NDU3YmY4MTEwZTZmY2ExNjljYjA0MDY2IiwidmFsdWUiOiIxRFRwR2x5XC8weDN5VFM5blRwYTBHd0ROVW1vamRwRHJUTExXQTRXU1g1TT0ifQ=="></script></section></div><footer class="footer"><a class="footer__logo" href="https://icp-squad.com/">ICPSquad</a><nav><ul class="footer__nav"></ul></nav><div class="footer__follow"><a href="https://x.com/ICPSquad" aria-label="Twitter"><svg><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.youtube.com/@icpsquad" aria-label="Youtube"><svg><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright"><p>© 2024 ICPSquad</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://icp-squad.com/assets/js/scripts.min.js?v=18a65c58aef57c0287e0f0609f3389a9"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="#not-specified">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="#not-specified">More details...</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>