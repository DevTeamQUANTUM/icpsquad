<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Breaking Down Chain Fusion: ICP and Cross-Chain Blockchain Challenges - ICPSquad</title><meta name="description" content="In the blockchain ecosystem, achieving interoperability has long been a challenge. Fragmentation between networks like Ethereum, Bitcoin, and others has created barriers, complicating both development and user experiences. ICP is addressing these challenges with its innovative Chain Fusion technology, which aims to&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://icp-squad.com/breaking-down-chain-fusion-icp-and-cross-chain-blockchain-challenges/"><link rel="alternate" type="application/atom+xml" href="https://icp-squad.com/feed.xml"><link rel="alternate" type="application/json" href="https://icp-squad.com/feed.json"><meta property="og:title" content="Breaking Down Chain Fusion: ICP and Cross-Chain Blockchain Challenges"><meta property="og:image" content="https://icp-squad.com/media/posts/10/1_pFxQLXWVPD3RD-jDpmV1gg.webp"><meta property="og:image:width" content="1400"><meta property="og:image:height" content="788"><meta property="og:site_name" content="ICPSquad"><meta property="og:description" content="In the blockchain ecosystem, achieving interoperability has long been a challenge. Fragmentation between networks like Ethereum, Bitcoin, and others has created barriers, complicating both development and user experiences. ICP is addressing these challenges with its innovative Chain Fusion technology, which aims to&hellip;"><meta property="og:url" content="https://icp-squad.com//breaking-down-chain-fusion-icp-and-cross-chain-blockchain-challenges/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@icpsquad"><meta name="twitter:title" content="Breaking Down Chain Fusion: ICP and Cross-Chain Blockchain Challenges"><meta name="twitter:description" content="In the blockchain ecosystem, achieving interoperability has long been a challenge. Fragmentation between networks like Ethereum, Bitcoin, and others has created barriers, complicating both development and user experiences. ICP is addressing these challenges with its innovative Chain Fusion technology, which aims to&hellip;"><meta name="twitter:image" content="https://icp-squad.com/media/posts/10/1_pFxQLXWVPD3RD-jDpmV1gg.webp"><link rel="shortcut icon" href="https://icp-squad.com/media/website/xHk2e9WC_400x400-2.jpg" type="image/png"><link rel="stylesheet" href="https://icp-squad.com/assets/css/style.css?v=a63ab5368a02ddb11f22ee4276c40b2e"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://icp-squad.com/breaking-down-chain-fusion-icp-and-cross-chain-blockchain-challenges/"},"headline":"Breaking Down Chain Fusion: ICP and Cross-Chain Blockchain Challenges","datePublished":"2024-11-15T09:37+01:00","dateModified":"2024-11-20T09:38+01:00","image":{"@type":"ImageObject","url":"https://icp-squad.com/media/posts/10/1_pFxQLXWVPD3RD-jDpmV1gg.webp","height":788,"width":1400},"description":"In the blockchain ecosystem, achieving interoperability has long been a challenge. Fragmentation between networks like Ethereum, Bitcoin, and others has created barriers, complicating both development and user experiences. ICP is addressing these challenges with its innovative Chain Fusion technology, which aims to&hellip;","author":{"@type":"Person","name":"ICPSquad Team","url":"https://icp-squad.com/authors/icpsquad-team/"},"publisher":{"@type":"Organization","name":"ICPSquad Team"}}</script><style>.u-tag--icp{--badge-bg:#84888E;--badge-txt:#FFFFFF;}</style><noscript><style>img[loading]{opacity:1;}</style></noscript><style>:root { --flb-container-gap: 0.8rem; --flb-container-direction: column; --flb-btn-hover-effect: translate3d(0, -2px, 0); --flb-btn-gap: 0.4rem; --flb-btn-transition: all 0.24s ease-out; --flb-btn-border-radius: 6px; --flb-btn-font-family: var(--body-font); --flb-btn-font-size: 0.875rem; --flb-btn-line-height: inherit; --flb-icon-size: 24px; --flb-link-color: #404258; --flb-link-color-hover: #EC1037; --flb-link-icon-color: #404258; --flb-link-icon-color-hover: #EC1037; }.flb-container { display: inline-flex; flex-direction: var(--flb-container-direction); flex-wrap: wrap; gap: var(--flb-container-gap); justify-content: center; }a.flb-btn { all: unset; align-items: center; color: var(--flb-link-color); cursor: pointer; display: inline-flex; font-family: var(--flb-btn-font-family); font-size: var(--flb-btn-font-size); gap: var(--flb-btn-gap); line-height: var(--flb-btn-line-height); transition: var(--flb-btn-transition); text-decodration: none; will-change: transform; } a.flb-btn:hover { color: var(--flb-link-color-hover); transform: var(--flb-btn-hover-effect); } a.flb-btn svg { fill: var(--flb-link-icon-color); height: var(--flb-icon-size); margin: unset; opacity: unset; pointer-events: none; transition: var(--flb-btn-transition); width: var(--flb-icon-size); } a.flb-btn:hover svg { fill: var(--flb-link-icon-color-hover); }a.flb-btn svg { fill: hsla(var(--s-platform-h), var(--s-platform-s), var(--s-platform-l), var(--s-platform-a)); }a.flb-btn:hover svg { fill: hsla(var(--s-platform-h), var(--s-platform-s), var(--s-platform-l), var(--s-platform-a)); }a.flb-btn.p-telegram{--s-platform-h:199;--s-platform-s:100%;--s-platform-l:40%;--s-platform-a:1;}a.flb-btn.p-applemusic{--s-platform-h:352;--s-platform-s:95%;--s-platform-l:61%;--s-platform-a:1;}</style></head><body class="post-template"><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://icp-squad.com/">ICPSquad</a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://icp-squad.com/tags/" title="Tags" target="_self">Tags</a></li><li><a href="https://icp-squad.com/tags/icp/" title="ICP" target="_self">ICP</a></li></ul></nav></div></header><div class="main-content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2024-11-20T12:19">November 20, 2024</time></div><div class="infobar__search"></div></div><main class="main post"><article class="content"><figure class="content__featured-image"><img src="https://icp-squad.com/media/posts/10/1_pFxQLXWVPD3RD-jDpmV1gg.webp" srcset="https://icp-squad.com/media/posts/10/responsive/1_pFxQLXWVPD3RD-jDpmV1gg-xs.webp 300w, https://icp-squad.com/media/posts/10/responsive/1_pFxQLXWVPD3RD-jDpmV1gg-sm.webp 480w, https://icp-squad.com/media/posts/10/responsive/1_pFxQLXWVPD3RD-jDpmV1gg-md.webp 768w, https://icp-squad.com/media/posts/10/responsive/1_pFxQLXWVPD3RD-jDpmV1gg-lg.webp 1024w, https://icp-squad.com/media/posts/10/responsive/1_pFxQLXWVPD3RD-jDpmV1gg-xl.webp 1360w, https://icp-squad.com/media/posts/10/responsive/1_pFxQLXWVPD3RD-jDpmV1gg-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="788" width="1400" alt=""></figure><header class="u-header content__header"><h1>Breaking Down Chain Fusion: ICP and Cross-Chain Blockchain Challenges</h1><div class="u-header__meta u-small"><img src="https://icp-squad.com/media/website/xHk2e9WC_400x400.jpg" loading="eager" class="u-header__avatar" alt="ICPSquad Team" height="400" width="400"><div><a href="https://icp-squad.com/authors/icpsquad-team/" title="ICPSquad Team">ICPSquad Team</a> <time datetime="2024-11-15T09:37">November 15, 2024</time></div></div></header><div class="content__entry u-inner"><p id="1b70" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">In the blockchain ecosystem, achieving interoperability has long been a challenge. Fragmentation between networks like Ethereum, Bitcoin, and others has created barriers, complicating both development and user experiences. ICP is addressing these challenges with its innovative <strong class="yl gu">Chain Fusion</strong> technology, which aims to unify disparate blockchains into a seamless environment.</p><p id="2b6b" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph=""><strong class="yl gu">Understanding Chain Fusion: The Core of Multi-Chain Interoperability</strong></p><p id="6db0" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">Chain Fusion operates as an interoperability layer within ICP, creating bridges between different blockchain ecosystems. Unlike traditional cross-chain solutions that require third-party intermediaries, Chain Fusion leverages ICP’s unique chain-key technology to allow direct interactions.</p><p id="585e" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">Using Chain Fusion, canister smart contracts on ICP can both initiate and execute transactions on external blockchains, establishing a decentralised, secure, and efficient multi-chain environment. At the heart of this system lies threshold signing, a decentralised key management approach that splits private key control across multiple nodes. This feature reduces single points of failure, securing cross-chain operations with enhanced reliability and resilience.</p><p id="2031" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph=""><strong class="yl gu">The Advantages of Chain Fusion: Enhancing User Experience and Security</strong></p><p id="fba6" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">Chain Fusion is transforming the crypto landscape by unlocking advanced interoperability. Now, developers can build dApps that span multiple blockchains, bringing users a smoother experience that feels closer to traditional Web2 applications. By integrating various blockchain ecosystems, Chain Fusion reduces friction for users interacting with assets across different networks, creating a cohesive digital experience.</p><p id="4e9b" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">Moreover, decentralised key management in Chain Fusion offers stronger security for cross-chain transactions. This eliminates reliance on third-party custodians, enabling a more transparent, user-centered experience with minimal security risks. The robust compute and storage capabilities of ICP further enhance performance, enabling developers to create scalable, complex multi-chain applications with confidence.</p><p id="c644" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph=""><strong class="yl gu">Real-World Applications: Diverse Use Cases Across DeFi</strong></p><p id="7c74" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">The potential applications of Chain Fusion are far-reaching, especially in the DeFi space. Imagine a decentralised exchange that seamlessly supports asset swaps across Bitcoin, Ethereum, and Solana — this is now possible with Chain Fusion. Additionally, cross-chain lending protocols could leverage Chain Fusion to support multi-ecosystem collateral, enabling users to borrow against assets in diverse blockchain environments without the need to bridge funds manually.</p><p id="0878" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">Beyond DeFi, Chain Fusion enables development of <strong class="yl gu">in-browser multi-chain wallets</strong>, allowing users to manage their assets across various networks in one place. Automated services can operate across chains, executing functions autonomously without compromising security, opening doors to more powerful, user-friendly dApps.</p><figure class="zk zl zm zn zo zp zh zi paragraph-image"><div class="zq zr cf zs m zt" tabindex="0" role="button"><div class="zh zi zj"><figure class="m xu zu c"><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*UUM1j_WW79Ongup5hyV5HA.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*UUM1j_WW79Ongup5hyV5HA.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*UUM1j_WW79Ongup5hyV5HA.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*UUM1j_WW79Ongup5hyV5HA.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*UUM1j_WW79Ongup5hyV5HA.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*UUM1j_WW79Ongup5hyV5HA.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UUM1j_WW79Ongup5hyV5HA.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*UUM1j_WW79Ongup5hyV5HA.jpeg 640w, https://miro.medium.com/v2/resize:fit:720/1*UUM1j_WW79Ongup5hyV5HA.jpeg 720w, https://miro.medium.com/v2/resize:fit:750/1*UUM1j_WW79Ongup5hyV5HA.jpeg 750w, https://miro.medium.com/v2/resize:fit:786/1*UUM1j_WW79Ongup5hyV5HA.jpeg 786w, https://miro.medium.com/v2/resize:fit:828/1*UUM1j_WW79Ongup5hyV5HA.jpeg 828w, https://miro.medium.com/v2/resize:fit:1100/1*UUM1j_WW79Ongup5hyV5HA.jpeg 1100w, https://miro.medium.com/v2/resize:fit:1400/1*UUM1j_WW79Ongup5hyV5HA.jpeg 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img role="presentation" src="https://miro.medium.com/v2/resize:fit:1400/1*UUM1j_WW79Ongup5hyV5HA.jpeg" alt="" width="700" height="394" loading="lazy" data-is-external-image="true"></figure></div></div></figure><p id="14f5" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph=""><strong class="yl gu">Future Developments: Expanding Chain Fusion’s Capabilities</strong></p><p id="3a8e" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">ICP’s roadmap for Chain Fusion includes ambitious plans to broaden its interoperability. The integration of an Ethereum Virtual Machine (EVM) within a canister will allow developers to execute Ethereum smart contracts directly on ICP, providing a low-fee, high-performance environment. Similarly, the anticipated chain-key Solana (ckSOL) token will make Solana’s assets accessible on ICP, further widening its cross-chain capabilities.</p><p id="abf3" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">A significant advancement is the planned integration with Circle’s Cross-Chain Transfer Protocol (CCTP), which will enable native support for the USDC stablecoin within ICP. These features, combined with fully decentralised Bitcoin and Ethereum explorers powered by ICP, are set to make Chain Fusion a critical infrastructure for the decentralised ecosystem.</p><p id="996b" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph=""><strong class="yl gu">Impact on Blockchain Adoption: A New Standard in Interoperability</strong></p><p id="a1d0" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">Chain Fusion’s ability to merge different blockchain networks into a cohesive experience has the potential to revolutionise blockchain adoption. By simplifying cross-chain interactions, it lowers the barriers for new users while providing robust, user-centric tools for developers and enterprises. This innovation could accelerate the development of novel dApps that tap into the unique advantages of each blockchain network, ultimately delivering more value and usability to the ecosystem.</p><p id="0e7a" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">However, as with all powerful tools, responsible implementation and user education are essential. Developers need to recognise the intricacies of cross-chain operations, and users must understand potential risks. This new level of interoperability demands thoughtful design to maintain security, scalability, and reliability.</p><p id="9054" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph=""><strong class="yl gu">Chain Fusion as a Pivotal Moment for Blockchain Interoperability</strong></p><p id="9bba" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">Chain Fusion is more than an incremental improvement; it’s a fundamental leap in blockchain technology, bridging once-isolated ecosystems and paving the way for a more interconnected web</p><p id="f6f3" class="pw-post-body-paragraph yj yk uj yl b ym yn yo yp yq yr ys yt yu yv yw yx yy yz za zb zc zd ze zf zg jd bx" data-selectable-paragraph="">For developers, it simplifies cross-chain development while enhancing security and efficiency. For end-users, it offers an intuitive and unified multi-chain experience. As ICP continues to expand Chain Fusion’s capabilities, this technology is poised to become a central driver in the blockchain industry’s evolution — transforming not only how we build dApps but also how we engage with decentralised finance, digital identity, and beyond.</p></div><aside class="content__aside"><div class="content__share"></div></aside><footer class="content__footer"><div class="content__bio box"><img class="u-author__avatar" src="https://icp-squad.com/media/website/xHk2e9WC_400x400.jpg" loading="lazy" alt="ICPSquad Team" height="400" width="400"><div><h4 class="h6"><a href="https://icp-squad.com/authors/icpsquad-team/" title="ICPSquad Team">ICPSquad Team</a></h4><p>We are the team behind ICPSquad </p></div></div><div class="content__related box"><h3 class="box__title">Related posts</h3><div class="content__related-wrap"><figure class="content__related-item"><a href="https://icp-squad.com/the-future-of-ai-and-blockchain-innovation-on-internet-computer/" class="c-card__image"><img src="https://icp-squad.com/media/posts/8/responsive/1_nkxbuETa0iIBDqINLs1nPQ-xs.webp" loading="lazy" height="1080" width="1920" alt=""></a><figcaption><h4 class="content__related-title"><a href="https://icp-squad.com/the-future-of-ai-and-blockchain-innovation-on-internet-computer/" class="inverse">The Future of AI and Blockchain Innovation on Internet Computer</a></h4><time datetime="2024-10-25T09:14" class="u-small">October 25, 2024</time></figcaption></figure><figure class="content__related-item"><a href="https://icp-squad.com/nft-projects-taking-advantage-of-the-bear-market-to-build-3/" class="c-card__image"><img src="https://icp-squad.com/media/posts/3/responsive/icpsquad-newsletter-10-31-23-xs.jpg" loading="lazy" height="1125" width="2000" alt=""></a><figcaption><h4 class="content__related-title"><a href="https://icp-squad.com/nft-projects-taking-advantage-of-the-bear-market-to-build-3/" class="inverse">Unveiling ICP&#x27;s Global Impact &amp; Record-Breaking Trends!</a></h4><time datetime="2023-11-01T14:48" class="u-small">November 1, 2023</time></figcaption></figure></div></div></footer></article><div class="comments-area box"></div></main><div class="sidebar"><section class="box"><h3 class="box__title">Follow us</h3><div class="follow"><a href="https://x.com/ICPSquad" class="twitter" aria-label="Twitter"><svg class="u-icon"><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="https://www.youtube.com/@icpsquad" class="youtube" aria-label="Youtube"><svg class="u-icon"><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#youtube"/></svg> Youtube</a></div></section><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://icp-squad.com/authors/icpsquad-team/" class="authors__image-link"><img src="https://icp-squad.com/media/website/xHk2e9WC_400x400.jpg" loading="lazy" alt="ICPSquad Team" height="400" width="400"></a><div><a href="https://icp-squad.com/authors/icpsquad-team/" class="authors__title">ICPSquad Team</a></div></li></ul></section><section class="newsletter box box--gray"><h3 class="box__title">Newsletter</h3><p class="newsletter__description">Sign up to receive email updates and to hear what's going on with us!</p><form method="post" action="https://newsletter.infomaniak.com/v3/api/1/newsletters/webforms/19161/submit" class="inf-form"><input type="email" name="email" style="display:none"> <input type="hidden" name="key" value="eyJpdiI6ImdQY3ZvM3QyamgxbkJpbkFUaFl5OTVpTXJwNjJ3NFFRYUdBR3l2Q1hTN2c9IiwibWFjIjoiOTQ5NDFiZmZhOTViNTZlMGI3MjBkZTllNGNhOGE3YjU1ZTM1ZGEyMDBlMDdkYzg1NGY2NDliMGU5MjNhYzcxNyIsInZhbHVlIjoiRjdWbmVRRVZlTHFIWlQrOXRXcnVXV0x4eDNUSE9MUUVteHRFdzZSdEVwOD0ifQ=="> <input type="hidden" name="webform_id" value="19161"><style>.inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba {
            padding: 25px 20px;
            margin: 0 auto; /* Upper margin set to 0 */
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-content {
            margin-top: 13px;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba h4,
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba span,
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba label,
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba input,
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-submit,
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-success p a {
            color: #555555;
            font-size: 14px;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba h4 {
            font-size: 18px;
            margin: 0px 0px 13px 0px;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba h4,
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba label {
            font-weight: bold;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-input {
            margin-bottom: 5px; /* Reduced space below email box */
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba label {
            display: block;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba input {
            height: 35px;
            color: #999999;
            border: 1px solid #E9E9E9;
            border: none;
            padding-left: 7px;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-input.inf-error label,
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-input.inf-error span.inf-message {
            color: #cc0033;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-input.inf-error input {
            border: 1px solid #cc0033;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-input input {
            width: 100%;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-input.inf-error span.inf-message {
            display: block;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-submit {
            text-align: right;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-submit input {
            background-color: #BD347F;
            color: #ffffff;
            border: none;
            font-weight: normal;
            height: auto;
            padding: 7px;
        }
        .inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba .inf-submit input.disabled {
            opacity: 0.4;
        }
        .inf-btn {
            color: rgb(85, 85, 85);
            border: medium none;
            font-weight: normal;
            height: auto;
            padding: 7px;
            display: inline-block;
            background-color: white;
            box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.24);
            border-radius: 2px;
            line-height: 1em;
        }
        .inf-rgpd {
            margin: 25px 0px 15px 0px;
            color: #555555;
        }</style><div class="inf-main_6a3eb9a0e11d2e50254bd6e0dd993eba"><h4></h4><span></span><div class="inf-success" style="display:none"><h4>Your registration has been successfully completed!</h4><p><a href="#" class="inf-btn">&laquo;</a></p></div><div class="inf-content"><div class="inf-input inf-input-text"><div style="display: flex"><label>Email</label><div style="color:red;">&nbsp;*</div></div><input type="email" name="inf[1]" data-inf-meta="1" data-inf-error="" required="required"></div><div class="inf-rgpd"></div><div style="margin-top: 5px;"><label data-mcaptcha_url="https://captcha.infomaniak.com/widget/?sitekey=wKJaAigS1e48fWgqtjvg5w7rKA6QIwmy" for="mcaptcha__token" id="mcaptcha__token-label"><input type="text" name="mcaptcha__token" id="mcaptcha__token"></label><div id="mcaptcha__widget-container"></div><script src="https://unpkg.com/@mcaptcha/vanilla-glue@0.1.0-rc2/dist/index.js"></script></div><div class="inf-submit"><input type="submit" style="margin-top: 25px;" name="" value="confirm"></div></div></div></form></section></div><footer class="footer"><a class="footer__logo" href="https://icp-squad.com/">ICPSquad</a><nav><ul class="footer__nav"></ul></nav><div class="footer__follow"><a href="https://x.com/ICPSquad" aria-label="Twitter"><svg><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.youtube.com/@icpsquad" aria-label="Youtube"><svg><use xlink:href="https://icp-squad.com/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright"><p>© 2024 ICPSquad</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://icp-squad.com/assets/js/scripts.min.js?v=18a65c58aef57c0287e0f0609f3389a9"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="#not-specified">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="#not-specified">More details...</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>